<!DOCTYPE html>
<html>
	<head>
		<meta charset='UTF-8' />
		<title>TBE:Ruby Timer</title>
		<script>
			const element = (e = "event_log") => { return document.getElementById(e) };
			const print = m => { element().innerHTML += `<div>${m}</div>` };

			const doAfter = (i, f) => { return window.setTimeout(f, i) };
			const doEvery = (i, f) => { return window.setInterval(f, i) };

			window.onload = () => {
				let i = doEvery(500, () => {
					print(`doEvery ${i} triggered`);
				});
				let j = doAfter(3000, () => {
					print(`doAfter ${j} triggered`);
					let k = doAfter(2000, () => {
						window.clearInterval(i);
						print(`doAfter ${k} triggered cancelling ${i}`);
					});
				});
			}
		</script>
	</head>

	<body>
		<h1>TBE:Ruby Timer</h1>

		<h2>Timer Events</h2>
		<div id='event_log'></div>
  </body>
</html>